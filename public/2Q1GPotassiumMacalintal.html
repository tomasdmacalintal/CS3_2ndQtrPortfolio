<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- favicon -->
        <link rel="icon" href="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/images/clap_board.png" sizes="any">
        <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/images/clap_board.png">

        <!-- Encoding + mobile responsiveness -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Page info -->
        <title>Critique of The Menu</title>
        <meta name="description" content="An interactive website showcasing my critique and knowledge of The Menu.">
        <meta name="author" content="MACALINTAL, Datu Pio Tomas D.">

        <style>
            
            body{
                background-color: black;
                overflow: hidden;
                font-family: Georgia, 'Times New Roman', Times, serif;
            }
            button{
                font-family: Georgia, 'Times New Roman', Times, serif;
            }
            ul{
            list-style-type: none;
            margin: 0;
            padding: 0;
            height: max-content;
            width: max-content;
            background-color: rgb(15, 15, 15);
            color: white;
            }
            a{
                display: block;
                color: white;
                padding: 3vh 4vmax;
                text-decoration: none;
                font-size: 2vh;
                
                animation-name: smaller;
                animation-duration: 500ms;
                transition: 500ms ease;
            }
            a:hover{
                background-color: white;
                padding: 3vh 4vmax;
                color: black;
                font-size: 2vh;
                box-shadow: 0px 0px 50px rgb(255, 255, 255);

                animation-name: bigger;
                animation-duration: 500ms;
                animation-fill-mode: forwards;
                transition: 500ms ease;
            }
            li{
                display: inline-block;
            }
            .nav-bar{
                width: 100%;
                height: max-content;
                background-color: rgb(15, 15, 15);
                display: flex;
                position: fixed;
                top: 0;
                left: 0;
                justify-content: space-between;
                box-shadow: 0px 10px 50px 20px rgb(15, 15, 15);
            }
            .order{
                display: block;
                border: none;
                background: none;
                color: white;
                justify-self: center;
                margin-top: 60vh;
                position: fixed;
                font-size: 5vh;


                animation-name: smaller;
                animation-duration: 500ms;
            }
            .order:hover{
                display: block;
                border: none;
                background: none;
                color: white;
                justify-self: center;
                margin-top: 60vh;
                cursor: pointer;

                animation-name: bigger;
                animation-duration: 500ms;
                animation-fill-mode: forwards;
            }
            .toggle{
                width: 10vh;
                height: 10vh;
                left: 10;
                bottom: 0;
                position: fixed;
            }
            .paper{
                width: 70vw;
                height: 75vh;
                background-color: antiquewhite;
                justify-self: center;
                text-align: center;
                padding-top: 5vh;
                bottom: 0;
                position: fixed;
                z-index: -10;
                font-size: 7vh;
                color: dimgray;
                text-shadow: 0px 0px 10px dimgray;
            }
            .intro_info{
                display: block;
                color: dimgray;
                text-align: center;
                justify-self: center;
                margin-top: 40vh;
                position: fixed;
                font-size: 5vh;

                animation-name: fadeIn;
                animation-duration: 3s;
                animation-fill-mode: forwards;
            }
            .item{
                display: block;
                justify-self: center;
                margin: 10vh;
                font-size: 7vmin;
                border: none;
                background: none;
                opacity: 0;

                animation-name: smaller;
                animation-duration: 500ms;
                transition: 500ms ease;
            }
            .item:hover{
                display: block;
                justify-self: center;
                margin: 10vh;
                font-size: 7vmin;
                border: none;
                background: none;
                cursor: pointer;

                animation-name: bigger;
                animation-duration: 500ms;
                animation-fill-mode: forwards;
                transition: 500ms ease;
            }
            .served_item{
                display: block;
                font-size: 50vh;
                justify-self: center;
                position: fixed;
                bottom: -50%;
                z-index: -20;

                animation-name: slideDown;
                animation-duration: 1s;
                animation-timing-function: ease-in-out;
            }
            table{
                color: white;
                justify-self: center;
                top: 20vh;
                width: 80%;
                border: 2px solid white;
                background-color: rgba(255, 255, 255, 0.1);
                position: absolute;
                z-index: -10;
                opacity: 0;
                user-select: none;
                padding-bottom: 10vh;
                /* The padding is so that the footer can have space. */
            }
            td{
                border: 1px solid white;
                font-size: 2vmin;
                text-align: center;
            }
            th{
                border: 1px solid white
            }
            .photo{
                width: 25vmin;
                height: 25vmin;
                user-select: none;
            }
            .back{
                font-size: 3vmin;
                position: fixed;
                top: 50%;
                left: 2vw;
            }
            .text{
                margin: 10vw;
                font-size: 4vmin;
                text-align: center;
                top: 20vh;
                color: white;
                position: fixed;
                z-index: -10;
                user-select: none;
                opacity: 0;
                text-shadow: 0px 0px 10px black;
            }
            iframe{
                display: block;
                justify-self: center;
                position: fixed;
                top: 20vh;
            }

            @keyframes fadeIn {
                0% {opacity: 0;}
                100% {opacity: 100;}
            }

            @keyframes bigger {
                0% {transform: scale(1);}
                100% {transform: scale(1.2);}
            }

            @keyframes smaller {
                0% {transform: scale(1.2);}
                100% {transform: scale(1);}
            }

            @keyframes slideDown {
                0% {transform: translateY(-300%);}
                100% {transform: translateY(0);}
            }
        </style>
    </head>
    <body>
        <!-- Add in all the audio files. While doing this, I found out about CORB. When I put links to the audio It gets blocked by Google.
             To fix this, I made the crossorigin anonymous. -->

        <audio loop muted id="intro" crossorigin="anonymous">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/intro.wav" type="audio/wav">
        </audio>
        <audio muted id="noted" crossorigin="anonymous">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/noted.wav" type="audio/wav">
        </audio>
        <audio muted id="ordered" crossorigin="anonymous">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/ordered.wav" type="audio/wav">
        </audio>
        <audio muted id="paper_slide" crossorigin="anonymous">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/paper_slide.wav" type="audio/wav">
        </audio>
        <audio muted id="write_1" crossorigin="anonymous">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/write_1.wav" type="audio/wav">
        </audio>
        <audio muted id="write_2" crossorigin="anonymous">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/write_2.wav" type="audio/wav">
        </audio>
        <audio muted id="write_3" crossorigin="anonymous">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/write_3.wav" type="audio/wav">
        </audio>

        <!-- Add the navigation bar, containing all links to my labmates' webpages. -->
        <nav class="nav-bar">
            <ul>
                <li><a href="https://phipalibunao.github.io/CS3_2ndQtrPortfolio/public/couchcriticspml.html">The Willoughbys</a></li>
                <li><a href="https://uandoc.github.io/CS3_2ndQtrPortfolio/public/2Q1GPotassiumDoctolero.html">Everything Everywhere All at Once</a></li>
                <li><a href="https://reysinz.github.io/CS3_2ndQtrPortfolio_PotassiumLampa/CouchcriticLampa.html">Little Shop of Horrors</a></li>
            </ul> 
            <ul>
                <li><a href="https://phipalibunao.github.io/CS3_2ndQtrPortfolio/public/homepage.html" style="padding: 1.7vh 4vmax;">🎬CouchCritics<br><span style="font-size: smaller; color: dimgray; font-style: italic;">"Chill watches, heated reviews"</span></a></li>
            </ul>
        </nav>

        <!-- Add the table which will be used later in Characters. -->
        <table id="table">
            <tr>
                <th>Character</th>
                <th>Image</th>
                <th>Personality</th>
            </tr>
            <tr>
                <td>Margot</td>
                <td><img class="photo" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS3yZX6z0Bwt6jVdc-6sRp6s4H6Blqg2rHmxQ&s" alt="Image of Margot"></td>
                <td>The protagonist. Smart and secretive with emotions. 
                    Unlike other guests, she is down-to-earth.</td>
                
            </tr>
            <tr>
                <td>Tyler</td>
                <td><img class="photo" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRVRSfqCFFbTB_g3C0h24tDeABfVl1fMWxfOA&s" alt="Image of Tyler"></td>
                <td>Fan of Chef Slowik. Naive and wants to seem smart.</td>
            </tr>
            <tr>
                <td>Chef Slowik</td>
                <td><img class="photo" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_ifCP7io97GTipXuvpkdwUU5tjVBWJGQwQA&s" alt="Image of Chef Slowik"></td>
                <td>Perfectionist with his food. His passion of cooking
                    turned into something corrupted. Something of a cult leader.</td>
            </tr>
            <tr>
                <td>Richard</td>
                <td rowspan="2"><img class="photo" src="https://thoughtcatalog.com/wp-content/uploads/2025/02/richard_anne.jpg?w=850" alt="Image of Richard and Anne"></td>
                <td>Rich husband of Anne. A regular at the restaurant. Unfaithful
                    to his wife.</td>
            </tr>
            <tr>
                <td>Anne</td>
                <td>Rich wife of Richard. Frequently goes to the restaurant with
                    Richard. Luxurious and hollow inside.</td>
            </tr>
        </table>

        <!-- Add text for Plot. -->
        <h2 class="text" id="plot">Margot and Tyler, dating, go to the Hawthorne restaurant. They and all other guests attending eat dishes made by Chef Slowik and his team. 
                                   Slowik has been honing the art of food, and is ready to present it to his guests. Although, it may be too much for them, as the lengths he
                                   goes for making art turns deadly.</h2>

        <!-- Add text for my Review. -->
        <h2 class="text" id="review">The menu scores high points for me because of its dark but satiric tone. The characters feel real, meaning they have written the characters
                                     well. It also tells a lot about trying to be the best and having the fear of losing. <br><br> I really enjoyed the final scene where Margot
                                     asks for a cheeseburger. Just a plain cheeseburger without any hidden meanings. It shows how sometimes things are better when they are simple,
                                     not too much overthinking. Only the love you put in your work matters.</h2>

        <!-- Add video of the trailer of the movie. -->
        <iframe id="video" width="280" height="157" src="https://www.youtube.com/embed/C_uTkUGcHv4?si=ypTI0ZxA5igSVLUk&amp;controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        
        <!-- This button toggles between muted and unmuted audio. Set muted first so that users can unmute it themselves. -->
        <img class="toggle" id="toggle" onclick="toggleMute()" alt="Toggle Mute Button" src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/images/muted.png">
        
        <!-- Add text to start off the webpage. -->
        <h1 class="intro_info" id="intro_info">CRITIQUE OF THE MENU<br>Our main course is about to begin. <br>Are you ready to eat?</h1>

        <!-- This button starts the order part. -->
        <button class="order" id="order" onclick="start()">Order.</button>

        <!-- Footer and copyright. -->
        <footer style="display: block; justify-self: center; position: fixed; bottom: 0;">
        <ul class="social-list">
            <li><a href="https://github.com/tomasdmacalintal" target="_blank" rel="noopener noreferrer" style="font-size: 1.5vmin;">GitHub</a></li>
            <li><a href="https://tomasdmacalintal.github.io/CS3_2ndQtrPortfolio" target="_blank" rel="noopener noreferrer" style="font-size: 1.5vmin;">GitHub Pages</a></li>
        </ul>
        </footer>
        <p style="color: white; display: block; justify-self: right; position: fixed; bottom: 0; text-shadow: 0px 0px 20px black;" class="copyright">
            &copy; <span id="year"></span> CouchCritics - Tomas Macalintal 🎬 All rights reserved.
        </p>

        <!-- The table and text are in the page, but not visible yet. They will appear when you select a food option. -->
          
        <script>
            /* This tells the code it is your first time looking at the menu after loading the webpage. Will be useful for later. */
            firstTime = true;

            /* Gets the year today for copyright. */
            document.getElementById('year').textContent = new Date().getFullYear();

            /* Obtain all audio files. */
            const intro = document.getElementById("intro");
            const noted = document.getElementById("noted");
            const ordered = document.getElementById("ordered");
            const paper_slide = document.getElementById("paper_slide");
            /* This is in an object for easier calling later. */
            const writing = {
                write_1: document.getElementById("write_1"),
                write_2: document.getElementById("write_2"),
                write_3: document.getElementById("write_3")
            };

            /* Get the main screen elements. */
            const toggle = document.getElementById("toggle");
            const intro_info = document.getElementById("intro_info");
            const order = document.getElementById("order");

            /* Creating the paper which will be used for giving out the menu. */
            const paper = document.createElement('div');
            paper.classList.add('paper');

            /* Object holding newly created buttons for food choices. */
            const items = {
                item_1: document.createElement('button'), 
                item_2: document.createElement('button'), 
                item_3: document.createElement('button'),
            };
            /* Then, individually type their text content. */
            items.item_1.innerHTML = "🍔Characters";
            items.item_2.innerHTML = "🍝Plot";
            items.item_3.innerHTML = "🍟Review";

            /* Create the element for the served item, a decoration which lets you know which part of the critique you are at. */
            const servedItem = document.createElement('h1');
            servedItem.classList.add('served_item');

            /* Create the back button to look at other food options. */
            const back = document.createElement('button');
            back.textContent = "Back";
            back.classList.add('back');

            /* Get the table and text elements. */
            const table = document.getElementById('table');
            const plot = document.getElementById('plot');
            const review = document.getElementById('review');
            
            /* Add the body as an element. This is to change some style choices in JavaScript. */
            const body = document.body;

            /* Checks if order button has been clicked. */
            orderClicked = false;
            /* Audio is muted. */
            audioMuted = true;
            /* We have not selected an item yet. */
            selectedItem = 0;

            /* Starts when order button is clicked. */
            function start() {
                /* Remove the trailer. */
                document.getElementById('video').remove();
                
                /*Only works if order button has not been clicked. This is to prevent multiple clicks. */
                if (orderClicked == false) {
                    /* Pause music, play jingle, animate order button and intro information for smooth removal. */
                    intro.pause();
                    ordered.play();
                    order.animate(
                        [
                            {transform: 'scale(1.2)', opacity: 1},
                            {transform: 'scale(1)', opacity: 0}
                        ],
                        {
                            duration: 500,
                            fill: 'forwards'
                        }
                    );
                    intro_info.animate(
                        [
                            {opacity: 1},
                            {opacity: 0}
                        ],
                        {
                            duration: 500,
                            fill: 'forwards'
                        }
                    );
                    
                    /* Remove order button and intro info, prepare the menu.*/
                    setTimeout(removeOrder, 1000);
                    function removeOrder() {
                        intro_info.remove();
                        order.remove();
                        setTimeout(theMenu, 1000);
                    }

                    /* Now, you cannot click for multiple menus to pop up. */
                    orderClicked = true;
                }
            }

            function theMenu() {
                /* Introduces the menu if it is your first time, or else it asks you if you want something else. This will make it easier to choose later. */
                if (firstTime == true)
                    paper.innerHTML = "Here is THE MENU. <br>";
                else
                    paper.innerHTML = "Want some more? <br>";

                /* Add the menu to the screen. */
                body.append(paper);
                paper.animate(
                    [
                        {transform: 'translateY(100%)'},
                        {transform: 'translateY(0)'}
                    ],
                    {
                        duration: 900,
                        easing: 'ease-in-out',
                        fill: 'forwards'
                    }
                );
                paper_slide.play();

                /* You wont be able to hover over each option and make a sound unless this is true.*/
                selectAbility = false;

                /* Add triggers for hovering and clicks, only works if you can select. Selected item and sound change depending on which you pick. */
                items.item_1.addEventListener('mouseover', function() {if (selectAbility == true) write_1.play();});
                items.item_2.addEventListener('mouseover', function() {if (selectAbility == true) write_2.play();});
                items.item_3.addEventListener('mouseover', function() {if (selectAbility == true) write_3.play();});
                items.item_1.addEventListener('click', function() {if (selectAbility == true) { selectedItem = 1; selected();}});
                items.item_2.addEventListener('click', function() {if (selectAbility == true) { selectedItem = 2; selected();}});
                items.item_3.addEventListener('click', function() {if (selectAbility == true) { selectedItem = 3; selected();}});
                
                /* Use the items object to easily define all items' classes to 'item'. */
                for (let i = 1; i <= 3; i++){
                    itemNumber = "item_" + i;
                    items[itemNumber].classList.add('item');

                    /* If it is your first time, it shows the items slowly. Else, it gives them to you immediately. */
                    paper.append(items[itemNumber]);
                    if (firstTime == true){
                        items[itemNumber].animate(
                            [
                                {transform: 'translateY(100%)'},
                                {transform: 'translateY(0)'}
                            ],
                            {
                                duration: 500,
                                delay: 1000*i + 500,
                                easing: 'ease-in-out'
                            }
                        );
                        items[itemNumber].animate(
                            [
                                {opacity: 0},
                                {opacity: 1}
                            ],
                            {
                                duration: 500,
                                delay: 1000*i + 500,
                                easing: 'ease-in-out',
                                fill: 'forwards'
                            }
                        );
                    }
                    else
                        items[itemNumber].style.opacity = "1";
                    
                }

                /* If it is your first time, it makes scribbling sounds with a delay before you can select. Else, it does
                   not make a sound because it was already written down on the menu. Thus, you can select immediately. */
                if (firstTime == true){
                    let count = 1;
                    const writeInterval = setInterval(() => {
                        writeNumber = "write_" + count;
                        writing[writeNumber].play();
                        count++;
                        if (count > 3){
                            selectAbility = true;
                            clearInterval(writeInterval);
                        }
                    }, 1000*count + 200);
                }
                else
                    selectAbility = true;

            }

            /* When you select a food option, it gives up your first time. */
            function selected() {
                firstTime = false;
                console.log(selectedItem);

                /* Bring down the menu, remove your power to select, and lets you press the back button.*/
                paper_slide.play();
                noted.play();
                selectAbility = false;
                backClicked = false;

                paper.animate(
                    [
                        {transform: 'translateY(0)'},
                        {transform: 'translateY(100%)'}
                    ],
                    {
                        duration: 900,
                        easing: 'ease-in-out',
                        fill: 'forwards'
                    }
                );

                /* Once the waiter is done giving the order, your food is immediately served! How about that? */
                noted.addEventListener('ended', serveItem);
                function serveItem(){
                    /* Remove the menu, animate the back button and item to appear. */
                    paper.remove();
                    console.log("served!");

                    body.append(servedItem);
                    body.append(back);
                    /* If you click back, you will be able to order again. */
                    back.addEventListener('click', orderAgain);
                    back.animate(
                        [
                            {opacity: 0},
                            {opacity: 1}
                        ],
                        {
                            duration: 500,
                            easing: 'ease-in-out',
                            fill: 'forwards'
                        }
                    );

                    /* The item and movie part given to you depends on your choice. */
                    if (selectedItem == 1){
                        body.style.overflow = "visible";
                        servedItem.textContent = "🍔";
                        table.animate(
                            [
                                {opacity: 0},
                                {opacity: 1}
                            ],
                            {
                                duration: 500,
                                easing: 'ease-in-out',
                                fill: 'forwards'
                            }
                        );
                    }
                    else if (selectedItem == 2){
                        body.style.overflow = "hidden";
                        servedItem.textContent = "🍝";
                        plot.animate(
                            [
                                {opacity: 0},
                                {opacity: 1}
                            ],
                            {
                                duration: 500,
                                easing: 'ease-in-out',
                                fill: 'forwards'
                            }
                        );
                    }
                    else{
                        body.style.overflow = "hidden";
                        servedItem.textContent = "🍟";
                        review.animate(
                            [
                                {opacity: 0},
                                {opacity: 1}
                            ],
                            {
                                duration: 500,
                                easing: 'ease-in-out',
                                fill: 'forwards'
                            }
                        );
                    }   
                }

                /* The body style changes depending on your food option. If the content is very big, it switches to scroll mode. */

                /* When you want to go back. */
                function orderAgain(){
                    /* Prevents multiple clicks of going back. */
                    if (backClicked == false){
                        body.style.overflow = "hidden";
                        ordered.play();
                        backClicked = true
                        /* Animate the back button and movie part for smooth removal. */
                        back.animate(
                            [
                                {opacity: 1},
                                {opacity: 0}
                            ],
                            {
                                duration: 500,
                                fill: 'forwards'
                            }
                        );
                        if (selectedItem == 1){
                            table.animate(
                                [
                                    {opacity: 1},
                                    {opacity: 0}
                                ],
                                {
                                    duration: 500,
                                    easing: 'ease-in-out',
                                    fill: 'forwards'
                                }
                            );
                        }
                        else if (selectedItem == 2){
                            plot.animate(
                                [
                                    {opacity: 1},
                                    {opacity: 0}
                                ],
                                {
                                    duration: 500,
                                    easing: 'ease-in-out',
                                    fill: 'forwards'
                                }
                            );
                        }
                        else{
                            review.animate(
                                [
                                    {opacity: 1},
                                    {opacity: 0}
                                ],
                                {
                                    duration: 500,
                                    easing: 'ease-in-out',
                                    fill: 'forwards'
                                }
                            );
                        }

                        /* Removes the back button. We do not need to remove the movie parts. They are only hidden. */
                        setTimeout(removeBack, 1000);
                        function removeBack() {
                            back.remove();
                            /* Brings back the menu. */
                            setTimeout(theMenu, 1000);
                        }
                    }
                    
                }
            }

            /*When you mute or unmute the webpage. */
            function toggleMute() {
                /* If muted, unmute. If unmuted, mute. Simple. */
                if (audioMuted == true){
                    toggle.src = "https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/images/unmuted.png";
                    intro.muted = false;
                    noted.muted = false;
                    ordered.muted = false;
                    paper_slide.muted = false;
                    write_1.muted = false;
                    write_2.muted = false;
                    write_3.muted = false;

                    /* Oh, this is so that the intro music only plays when you are in the starting screen. */
                    if (orderClicked == false){
                        intro.play();
                    }
                    audioMuted = false;

                    /* An issue I found was that browsers HATE autoplaying audio. Whenever the webpage is loaded, there is
                       a chance the audio just fails to play again. This was setup so that users would not get annoyed by hearing 
                       audio immediately from sketchy websites. To fix this, I just let the user toggle sounds for the webpage. */
                }
                else{
                    toggle.src = "https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/images/muted.png";
                    intro.muted = true;
                    noted.muted = true;
                    ordered.muted = true;
                    paper_slide.muted = true;
                    write_1.muted = true;
                    write_2.muted = true;
                    write_3.muted = true;
                    audioMuted = true;
                }
                console.log("Toggled!");
            }
            
        </script>
        
    </body>
    
</html>