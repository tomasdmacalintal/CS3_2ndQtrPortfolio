<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Critique of The Menu</title>
        <style>
            
            body{
                background-color: black;
                font-family: Georgia, 'Times New Roman', Times, serif;
            }

            ul{
            list-style-type: none;
            margin: 0;
            padding: 0;
            height: max-content;
            width: max-content;
            background-color: rgb(15, 15, 15);
            color: white;
            }
            a{
                display: block;
                color: white;
                padding: 3vh 4vmax;
                text-decoration: none;
                font-size: 2vh;
                
                animation-name: smaller;
                animation-duration: 500ms;
                transition: 500ms ease;

            }
            a:hover{
                background-color: white;
                padding: 3vh 4vmax;
                color: black;
                font-size: 2vh;
                box-shadow: 0px 0px 50px rgb(255, 255, 255);

                animation-name: bigger;
                animation-duration: 500ms;
                animation-fill-mode: forwards;
                transition: 500ms ease;
            }

            li{
                display: inline-block;
            }
            .nav-bar{
                width: 100%;
                height: max-content;
                background-color: rgb(15, 15, 15);
                display: flex;
                position: fixed;
                top: 0;
                left: 0;
                justify-content: space-between;
                box-shadow: 0px 10px 50px 20px rgb(15, 15, 15);
            }
            .order{
                display: block;
                border: none;
                background: none;
                color: white;
                margin: 0 auto;
                margin-top: 60vh;
                font-size: 5vh;
                font-family: Georgia, 'Times New Roman', Times, serif;

                animation-name: smaller;
                animation-duration: 500ms;
                transition: 500ms ease;
                
            }
            .order:hover{
                display: block;
                border: none;
                background: none;
                color: white;
                margin: 0 auto;
                margin-top: 60vh;
                cursor: pointer;
                font-family: Georgia, 'Times New Roman', Times, serif;

                animation-name: bigger;
                animation-duration: 500ms;
                animation-fill-mode: forwards;
                transition: 500ms ease;
            }
            .toggle{
                width: 10vh;
                height: 10vh;
                left: 10;
                bottom: 0;
                position: fixed;
            }
            .paper{
                width: 70vw;
                height: 75vh;
                background-color: antiquewhite;
                justify-self: center;
                justify-content: center;
                bottom: 0;
                position: fixed;
                z-index: -10;


                animation-name: slideUp;
                animation-duration: 500ms;
                animation-fill-mode: forwards;
            }

            @keyframes fadeIn {
                0% {opacity: 0;}
                100% {opacity: 100;}
            }

            @keyframes bigger {
                0% {transform: scale(1);}
                100% {transform: scale(1.2);}
            }

            @keyframes smaller {
                0% {transform: scale(1.2);}
                100% {transform: scale(1);}
            }

            @keyframes slideUp {
                0% {transform: translateY(100%);}
                100% {transform: translateY(0);}
            }
        </style>
    </head>
    <body>
        <audio loop muted id="intro">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/intro.wav" type="audio/wav">
        </audio>
        <audio muted id="noted">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/noted.wav" type="audio/wav">
        </audio>
        <audio muted id="ordered">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/ordered.wav" type="audio/wav">
        </audio>
        <audio muted id="paper_slide">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/paper_slide.wav" type="audio/wav">
        </audio>
        <audio muted id="write_1">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/write_1.wav" type="audio/wav">
        </audio>
        <audio muted id="write_2">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/write_2.wav" type="audio/wav">
        </audio>
        <audio muted id="write_3">
            <source src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/audio/write_3.wav" type="audio/wav">
        </audio>
        <nav class="nav-bar">
            <ul>
                <li><a href="https://www.w3schools.com/tags/tag_footer.asp" target="_blank">The Willoughbys</a></li>
                <li><a href="https://www.w3schools.com/tags/tag_footer.asp" target="_blank">Everything, Everywhere All at Once</a></li>
                <li><a href="https://www.w3schools.com/tags/tag_footer.asp" target="_blank">Little Shop of Horrors</a></li>
            </ul> 
            <ul>
                <li><a href="https://www.w3schools.com/tags/tag_footer.asp" target="_blank">CouchCritics</a></li>
            </ul>
        </nav>
        <img class="toggle" id="toggle" onclick="toggleMute()" alt="Toggle Mute Button" src="https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/images/muted.png">
        <button class="order" id="order" onclick="start()">Order.</button>
          
        <script>
            const order = document.getElementById("order");
            const intro = document.getElementById("intro");
            const ordered = document.getElementById("ordered");
            const toggle = document.getElementById("toggle");
            const body = document.body;
            orderClicked = false;
            audioMuted = true;

            function start() {
                if (orderClicked == false) {
                    intro.pause();
                    ordered.play();
                    order.animate(
                        [
                            {transform: 'scale(1.2)', opacity: 1},
                            {transform: 'scale(1)', opacity: 0}
                        ],
                        {
                            duration: 500,
                            fill: 'forwards'
                        }
                    );

                    /* While coding I encountered an interesting problem where if i keep hovering over this button after clicking,
                       I could click again multiple times and the animation would repeat.. So, i added orderClicked to prevent
                       multiple presses of the button, and it could be removed smoothly after. Just something I wanted to note. */
                    orderClicked = true;

                }

                order.addEventListener('animationend', removeOrder);
                function removeOrder() {
                    order.remove();
                    theMenu();
                    const paper = document.createElement('div');
                    paper.classList.add('paper');
                    body.append(paper);
                }
                
            }

            function theMenu() {
                
            }

            function toggleMute() {
                if (audioMuted == true){
                    toggle.src = "https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/images/unmuted.png";
                    intro.muted = false;
                    ordered.muted = false;
                    if (orderClicked == false){
                        intro.play();
                    }
                    audioMuted = false;

                    /* Another issue I found was that browsers HATE autoplaying audio. Whenever the webpage is loaded, there is
                       a chance the audio just fails to play again. This was setup so that users would not get annoyed by hearing 
                       audio immediately from sketchy websites. To fix this, I just let the user toggle sounds for the webpage. */
                }
                else{
                    toggle.src = "https://raw.githubusercontent.com/tomasdmacalintal/CS3_2ndQtrPortfolio/main/assets/images/muted.png";
                    intro.muted = true;
                    ordered.muted = true;
                    audioMuted = true;
                }
                console.log("Toggled!");
            }
            
        </script>
        
    </body>
    
</html>